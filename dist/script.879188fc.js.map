{"version":3,"sources":["script.js"],"names":["document","addEventListener","preloader","querySelector","window","classList","add","body","currentQuestion","timer","progressBar","progressText","progress","value","percentage","time","style","width","concat","innerHTML","startBtn","numQuestions","category","difficulty","timePerQuestion","quiz","startScreen","questions","score","startQuiz","num","cat","diff","loadingAnimation","url","fetch","then","res","json","data","results","setTimeout","remove","showQuestion","question","questionText","answersWrapper","questionNumber","answers","_toConsumableArray","incorrect_answers","correct_answer","toString","sort","Math","random","forEach","answer","indexOf","length","answersDiv","querySelectorAll","contains","submitBtn","disabled","startTimer","setInterval","playAdudio","checkAnswer","nextBtn","nextQuestion","display","clearInterval","selectedAnswer","console","log","showScore","endScreen","finalScore","totalScore","restartBtn","location","reload","src","Audio","play"],"mappings":"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","file":"script.879188fc.js","sourceRoot":"..","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\r\n  const preloader = document.querySelector(\"[data-preload]\");\r\n\r\n  window.addEventListener(\"load\", function () {\r\n    preloader.classList.add(\"loaded\");\r\n    document.body.classList.add(\"loaded\");\r\n  });\r\n});\r\nconst progressBar = document.querySelector(\".progress-bar\"),\r\n  progressText = document.querySelector(\".progress-text\");\r\n\r\nconst progress = (value) => {\r\n  const percentage = (value / time) * 100;\r\n  progressBar.style.width = `${percentage}%`;\r\n  progressText.innerHTML = `${value}`;\r\n};\r\n\r\nconst startBtn = document.querySelector(\".start\"),\r\n  numQuestions = document.querySelector(\"#num-questions\"),\r\n  category = document.querySelector(\"#category\"),\r\n  difficulty = document.querySelector(\"#difficulty\"),\r\n  timePerQuestion = document.querySelector(\"#time\"),\r\n  quiz = document.querySelector(\".quiz\"),\r\n  startScreen = document.querySelector(\".start-screen\");\r\n\r\nlet questions = [],\r\n  time = 30,\r\n  score = 0,\r\n  currentQuestion,\r\n  timer;\r\n\r\nconst startQuiz = () => {\r\n  const num = numQuestions.value,\r\n    cat = category.value,\r\n    diff = difficulty.value;\r\n  loadingAnimation();\r\n  const url = `https://opentdb.com/api.php?amount=${num}&category=${cat}&difficulty=${diff}&type=multiple`;\r\n  fetch(url)\r\n    .then((res) => res.json())\r\n    .then((data) => {\r\n      questions = data.results;\r\n      setTimeout(() => {\r\n        startScreen.classList.add(\"hide\");\r\n        quiz.classList.remove(\"hide\");\r\n        currentQuestion = 1;\r\n        showQuestion(questions[0]);\r\n      }, 1000);\r\n    });\r\n};\r\n\r\nstartBtn.addEventListener(\"click\", startQuiz);\r\n\r\nconst showQuestion = (question) => {\r\n  const questionText = document.querySelector(\".question\"),\r\n    answersWrapper = document.querySelector(\".answer-wrapper\");\r\n  questionNumber = document.querySelector(\".number\");\r\n\r\n  questionText.innerHTML = question.question;\r\n\r\n  const answers = [\r\n    ...question.incorrect_answers,\r\n    question.correct_answer.toString(),\r\n  ];\r\n  answersWrapper.innerHTML = \"\";\r\n  answers.sort(() => Math.random() - 0.5);\r\n  answers.forEach((answer) => {\r\n    answersWrapper.innerHTML += `\r\n                  <div class=\"answer \">\r\n            <span class=\"text\">${answer}</span>\r\n            <span class=\"checkbox\">\r\n              <i class=\"fas fa-check\"></i>\r\n            </span>\r\n          </div>\r\n        `;\r\n  });\r\n\r\n  questionNumber.innerHTML = ` Question <span class=\"current\">${\r\n    questions.indexOf(question) + 1\r\n  }</span>\r\n            <span class=\"total\">/${questions.length}</span>`;\r\n\r\n  const answersDiv = document.querySelectorAll(\".answer\");\r\n  answersDiv.forEach((answer) => {\r\n    answer.addEventListener(\"click\", () => {\r\n      if (!answer.classList.contains(\"checked\")) {\r\n        answersDiv.forEach((answer) => {\r\n          answer.classList.remove(\"selected\");\r\n        });\r\n        answer.classList.add(\"selected\");\r\n        submitBtn.disabled = false;\r\n      }\r\n    });\r\n  });\r\n\r\n  time = timePerQuestion.value;\r\n  startTimer(time);\r\n};\r\n\r\nconst startTimer = (time) => {\r\n  timer = setInterval(() => {\r\n    if (time === 3) {\r\n      playAdudio(\"countdown.mp3\");\r\n    }\r\n    if (time >= 0) {\r\n      progress(time);\r\n      time--;\r\n    } else {\r\n      checkAnswer();\r\n    }\r\n  }, 1000);\r\n};\r\n\r\nconst loadingAnimation = () => {\r\n  startBtn.innerHTML = \"Loading\";\r\n  const loadingInterval = setInterval(() => {\r\n    if (startBtn.innerHTML.length === 10) {\r\n      startBtn.innerHTML = \"Loading\";\r\n    } else {\r\n      startBtn.innerHTML += \".\";\r\n    }\r\n  }, 500);\r\n};\r\n\r\nconst submitBtn = document.querySelector(\".submit\"),\r\n  nextBtn = document.querySelector(\".next\");\r\nsubmitBtn.addEventListener(\"click\", () => {\r\n  checkAnswer();\r\n});\r\n\r\nnextBtn.addEventListener(\"click\", () => {\r\n  nextQuestion();\r\n  submitBtn.style.display = \"block\";\r\n  nextBtn.style.display = \"none\";\r\n});\r\n\r\nconst checkAnswer = () => {\r\n  clearInterval(timer);\r\n  const selectedAnswer = document.querySelector(\".answer.selected\");\r\n  if (selectedAnswer) {\r\n    const answer = selectedAnswer.querySelector(\".text\").innerHTML;\r\n    console.log(currentQuestion);\r\n    if (answer === questions[currentQuestion - 1].correct_answer) {\r\n      score++;\r\n      selectedAnswer.classList.add(\"correct\");\r\n    } else {\r\n      selectedAnswer.classList.add(\"wrong\");\r\n      const correctAnswer = document\r\n        .querySelectorAll(\".answer\")\r\n        .forEach((answer) => {\r\n          if (\r\n            answer.querySelector(\".text\").innerHTML ===\r\n            questions[currentQuestion - 1].correct_answer\r\n          ) {\r\n            answer.classList.add(\"correct\");\r\n          }\r\n        });\r\n    }\r\n  } else {\r\n    const correctAnswer = document\r\n      .querySelectorAll(\".answer\")\r\n      .forEach((answer) => {\r\n        if (\r\n          answer.querySelector(\".text\").innerHTML ===\r\n          questions[currentQuestion - 1].correct_answer\r\n        ) {\r\n          answer.classList.add(\"correct\");\r\n        }\r\n      });\r\n  }\r\n  const answersDiv = document.querySelectorAll(\".answer\");\r\n  answersDiv.forEach((answer) => {\r\n    answer.classList.add(\"checked\");\r\n  });\r\n\r\n  submitBtn.style.display = \"none\";\r\n  nextBtn.style.display = \"block\";\r\n};\r\n\r\nconst nextQuestion = () => {\r\n  if (currentQuestion < questions.length) {\r\n    currentQuestion++;\r\n    showQuestion(questions[currentQuestion - 1]);\r\n  } else {\r\n    showScore();\r\n  }\r\n};\r\n\r\nconst endScreen = document.querySelector(\".end-screen\"),\r\n  finalScore = document.querySelector(\".final-score\"),\r\n  totalScore = document.querySelector(\".total-score\");\r\nconst showScore = () => {\r\n  endScreen.classList.remove(\"hide\");\r\n  quiz.classList.add(\"hide\");\r\n  finalScore.innerHTML = score;\r\n  totalScore.innerHTML = `/ ${questions.length}`;\r\n};\r\n\r\nconst restartBtn = document.querySelector(\".restart\");\r\nrestartBtn.addEventListener(\"click\", () => {\r\n  window.location.reload();\r\n});\r\n\r\nconst playAdudio = (src) => {\r\n  const audio = new Audio(src);\r\n  audio.play();\r\n};"]}